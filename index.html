<!-- 
  –ë–õ–û–ö 1: index.html - –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª
  –°–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –±–ª–æ–∫–∏
-->
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ICAR</title>

        
    <!-- –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ —à—Ä–∏—Ñ—Ç–∞ –¥–ª—è iOS - –ë–õ–û–ö 1 -->
    <link rel="preload" href="fonts/CrySis_Bold_2.ttf" as="font" type="font/ttf" crossorigin>
    
    <!-- PWA -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="ICAR">
    
    <!-- –°—Ç–∏–ª–∏ (–±–ª–æ–∫–∏ 1-20) -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/panels.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/sleep-modal.css">
    
    <!-- Manifest -->
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="icons/icon-192.png" type="image/png">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
</head>
<body>
    <div class="app-container">
        
        <!-- –ë–õ–û–ö 2: –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
        <header class="top-panel">
            <div class="user-info">
                <div class="user-details">
                    <div class="current-date" id="currentDate">11.05.2024</div>
                    <h2 class="user-name" id="userName">ICAR</h2>
                    <div class="user-level">
                        <span class="level-text" id="userLevel">lvl 1429</span>
                    </div>
                </div>
                <div class="system-label">TEMPLAR SYSTEM <span id="commitHash"></span></div>
                <button class="settings-btn" id="settingsBtn">
                    <img src="icons/settings.png" alt="–ù–∞—Å—Ç—Ä–æ–π–∫–∏" class="btn-icon">
                </button>
            </div>
        </header>

        <!-- –ë–õ–û–ö 3: –§–æ–Ω –¥–ª—è –≤—Å–µ—Ö –ø–∞–Ω–µ–ª–µ–π -->
        <div class="all-panels-background" id="allPanelsBackground"></div>

        <!-- –ë–õ–û–ö 4: –û–±—â–∏–π –∫—Ä–µ—Å—Ç–∏–∫ -->
        <button class="all-panels-close" id="allPanelsClose" title="–ó–∞–∫—Ä—ã—Ç—å –≤—Å–µ –ø–∞–Ω–µ–ª–∏">√ó</button>

        <!-- –ë–õ–û–ö 5: –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="main-content">
            
            <!-- –ë–õ–û–ö 6: –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –±–ª–æ–∫ -->
            <div class="center-section">
                <!-- –ë–õ–û–ö 7: –õ–∏–Ω–∏–∏ —Å–≤—è–∑–∏ -->
                <svg class="connection-lines" id="connectionLines">
                    <path id="lineHealth" class="connection-line" d="M80,150 Q50,130 0,80"></path>
                    <path id="lineHabits" class="connection-line" d="M180,120 Q210,100 250,80"></path>
                    <path id="lineTasks" class="connection-line" d="M90,220 Q60,240 0,270"></path>
                    <path id="lineFinance" class="connection-line" d="M170,230 Q200,250 250,270"></path>
                </svg>

                <!-- –ë–õ–û–ö 8: –¢–æ—á–∫–∏ –Ω–∞ —Ñ–∏–≥—É—Ä–∫–µ -->
                <div class="connection-dots">
                    <div class="dot health-dot" data-dot="health"></div>
                    <div class="dot habits-dot" data-dot="habits"></div>
                    <div class="dot tasks-dot" data-dot="tasks"></div>
                    <div class="dot finance-dot" data-dot="finance"></div>
                </div>

                <!-- –ë–õ–û–ö 9: –Ø—Ä–ª—ã—á–∫–∏ (4 —à—Ç—É–∫–∏) -->
                <button class="side-tab health-tab" data-tab="health">
                    <img src="icons/health.png" alt="–ó–¥–æ—Ä–æ–≤—å–µ" class="tab-icon-img">
                </button>
                
                <button class="side-tab habits-tab" data-tab="habits">
                    <img src="icons/habits.png" alt="–ü—Ä–∏–≤—ã—á–∫–∏" class="tab-icon-img">
                </button>

                <!-- –ë–õ–û–ö 10: –§–∏–≥—É—Ä–∫–∞ —á–µ–ª–æ–≤–µ–∫–∞ -->
                <div class="center-image-container" id="centerImage">
                    <div class="image-wrapper">
                        <img src="assets/human-figure.png" alt="–°—Ç–∞—Ç—É—Å –∂–∏–∑–Ω–∏" class="human-image" id="humanImage">
                    </div>
                </div>

                <button class="side-tab tasks-tab" data-tab="tasks">
                    <img src="icons/tasks.png" alt="–ó–∞–¥–∞—á–∏" class="tab-icon-img">
                </button>
                
                <button class="side-tab finance-tab" data-tab="finance">
                    <img src="icons/finance.png" alt="–§–∏–Ω–∞–Ω—Å—ã" class="tab-icon-img">
                </button>
            </div>

            <!-- –ë–õ–û–ö 11: –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã -->
            <div class="progress-indicators">
                <!-- –ü–µ—Ä–≤—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä -->
                <div class="progress-label">–§–∏–∑. –∑–¥–æ—Ä–æ–≤—å–µ</div>
                <div class="progress-item" id="progressPhysical">
                    <div class="progress-bar-container">
                        <div class="progress-bar" data-value="56"></div>
                    </div>
                    <div class="progress-value" id="valuePhysical">56%</div>
                </div>
                
                <!-- –í—Ç–æ—Ä–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä -->
                <div class="progress-label">–ú–µ–Ω—Ç. –∑–¥–æ—Ä–æ–≤—å–µ</div>
                <div class="progress-item" id="progressMental">
                    <div class="progress-bar-container">
                        <div class="progress-bar" data-value="81"></div>
                    </div>
                    <div class="progress-value" id="valueMental">81%</div>
                </div>
                
                <!-- –¢—Ä–µ—Ç–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä -->
                <div class="progress-label">–§–∏–Ω–∞–Ω—Å—ã</div>
                <div class="progress-item" id="progressFinancial">
                    <div class="progress-bar-container">
                        <div class="progress-bar" data-value="41"></div>
                    </div>
                    <div class="progress-value" id="valueFinancial">41%</div>
                </div>
                
                <!-- –ß–µ—Ç–≤—ë—Ä—Ç—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä -->
                <div class="progress-label">–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</div>
                <div class="progress-item" id="progressActivity">
                    <div class="progress-bar-container">
                        <div class="progress-bar" data-value="72"></div>
                    </div>
                    <div class="progress-value" id="valueActivity">72%</div>
                </div>
            </div>

        </main>

        <!-- –ë–õ–û–ö 12: –ù–∏–∂–Ω–∏–π —è–∑—ã—á–æ–∫ -->
        <div class="bottom-line-trigger" id="bottomLineTrigger">
            <div class="double-line">
                <div class="line"></div>
                <div class="line"></div>
            </div>
        </div>

        <!-- –ë–õ–û–ö 13: –ü–∞–Ω–µ–ª–∏ –º–æ–¥—É–ª–µ–π (4 —à—Ç—É–∫–∏) -->
        <div class="corner-panel health-panel" id="healthPanel">
            <div class="panel-content">
                <div class="panel-header">
                    <h3>–ó–¥–æ—Ä–æ–≤—å–µ</h3>
                    <button class="panel-close" data-close="health">√ó</button>
                </div>
                <div class="panel-body">
                    <button class="sleep-record-btn" id="recordSleepBtn">–ó–∞–ø–∏—Å–∞—Ç—å —Å–æ–Ω</button>
                </div>
            </div>
        </div>

        <div class="corner-panel habits-panel" id="habitsPanel">
            <div class="panel-content">
                <div class="panel-header">
                    <h3>–ü—Ä–∏–≤—ã—á–∫–∏</h3>
                    <button class="panel-close" data-close="habits">√ó</button>
                </div>
                <div class="panel-body">
                    <p>–ú–µ–¥–∏—Ç–∞—Ü–∏—è: ‚úÖ<br>–°–ø–æ—Ä—Ç: ‚úÖ<br>–ß—Ç–µ–Ω–∏–µ: ‚ö™</p>
                </div>
            </div>
        </div>

        <div class="corner-panel tasks-panel" id="tasksPanel">
            <div class="panel-content">
                <div class="panel-header">
                    <h3>–ó–∞–¥–∞—á–∏</h3>
                    <button class="panel-close" data-close="tasks">√ó</button>
                </div>
                <div class="panel-body">
                    <p>–ö—É–ø–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã<br>–ü–æ–∑–≤–æ–Ω–∏—Ç—å –º–∞–º–µ<br>–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –∫ –≤—Ä–∞—á—É</p>
                </div>
            </div>
        </div>

        <div class="corner-panel finance-panel" id="financePanel">
            <div class="panel-content">
                <div class="panel-header">
                    <h3>–§–∏–Ω–∞–Ω—Å—ã</h3>
                    <button class="panel-close" data-close="finance">√ó</button>
                </div>
                <div class="panel-body">
                    <p>–†–∞—Å—Ö–æ–¥—ã: 500‚ÇΩ<br>–ë—é–¥–∂–µ—Ç: 1500‚ÇΩ<br>–°–±–µ—Ä–µ–∂–µ–Ω–∏—è: 25000‚ÇΩ</p>
                </div>
            </div>
        </div>

        <!-- –ë–õ–û–ö 14: –ù–∏–∂–Ω—è—è –≤—ã–¥–≤–∏–∂–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
        <div class="bottom-sheet" id="bottomSheet">
            <div class="sheet-header">
                <div class="sheet-handle"></div>
                <h3 class="sheet-title">–ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø</h3>
                <button class="sheet-close" id="closeBottomSheet">‚úï</button>
            </div>
            <div class="sheet-body" id="sheetBody">
                <div class="quick-actions">
                    <div class="quick-item">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
                    <div class="quick-item">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
                    <div class="quick-item">üìã –û—Ç—á—ë—Ç</div>
                </div>
            </div>
        </div>

    </div>

    <!-- JavaScript –±–ª–æ–∫–∏ (21-35) -->
    <script src="js/core.js"></script>
    <script src="js/panels.js"></script>
    <script src="js/utils.js"></script>
    
    <!-- –ë–õ–û–ö 15: Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/service-worker.js').then(
                    function(registration) {
                        console.log('Service Worker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω:', registration.scope);
                    },
                    function(err) {
                        console.log('–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ Service Worker:', err);
                    }
                );
            });
        }
    </script>
    <!-- –ë–õ–û–ö 24: –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–ø–∏—Å–∏ —Å–Ω–∞ -->
    <!-- –ë–õ–û–ö 24: –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–ø–∏—Å–∏ —Å–Ω–∞ -->
    <div class="sleep-modal-overlay" id="sleepModalOverlay">
        <div class="sleep-modal">
            <div class="sleep-modal-header">
                <h3 class="sleep-modal-title">–ó–∞–ø–∏—Å—å —Å–Ω–∞</h3>
                <button class="sleep-modal-close" id="sleepModalClose">√ó</button>
            </div>
            <form class="sleep-form" id="sleepForm">
                <div class="form-group time-inputs">
                    <div class="time-input">
                        <label class="form-label">–ù–∞—á–∞–ª–æ —Å–Ω–∞</label>
                        <input type="time" class="form-input" id="sleepStart" required>
                    </div>
                    <div class="time-input">
                        <label class="form-label">–û–∫–æ–Ω—á–∞–Ω–∏–µ</label>
                        <input type="time" class="form-input" id="sleepEnd" required>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">–ö–∞—á–µ—Å—Ç–≤–æ —Å–Ω–∞</label>
                    <div class="quality-rating">
                        <button type="button" class="quality-btn">1</button>
                        <button type="button" class="quality-btn">2</button>
                        <button type="button" class="quality-btn active">3</button>
                        <button type="button" class="quality-btn">4</button>
                        <button type="button" class="quality-btn">5</button>
                    </div>
                </div>
                <button type="submit" class="sleep-submit-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–ø–∏—Å—å</button>
            </form>
        </div>
    </div>



</body>
</html>